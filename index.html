<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Olivia ü§ç</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #ffeef8 0%, #ffe4f0 50%, #ffd9e8 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* Cursor sparkle trail */
        .sparkle {
            position: fixed;
            pointer-events: none;
            animation: sparkleFloat 1s ease-out forwards;
            z-index: 9999;
        }

        @keyframes sparkleFloat {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-30px) scale(0);
            }
        }

        /* Confetti styles */
        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            pointer-events: none;
            z-index: 9998;
            animation: confettiFall 3s ease-out forwards;
        }

        .confetti.heart::before {
            content: 'ü§ç';
            font-size: 20px;
            display: block;
        }

        @keyframes confettiFall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* Floating hearts animation */
        .heart {
            position: absolute;
            font-size: 20px;
            animation: float 15s infinite;
            opacity: 0;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .container {
            max-width: 800px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            padding: 60px 50px;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3em;
            color: #ff6b9d;
            margin-bottom: 10px;
            font-family: 'Brush Script MT', cursive;
            text-shadow: 0 0 20px rgba(255, 107, 157, 0.3);
        }

        .header .to {
            font-size: 1.4em;
            color: #c44569;
            font-style: italic;
        }

        .divider {
            width: 100px;
            height: 2px;
            background: linear-gradient(to right, #ff6b9d, #c44569);
            margin: 30px auto;
        }

        .letter {
            line-height: 1.8;
            color: #333;
            font-size: 1.1em;
            text-align: left;
        }

        .letter p {
            margin-bottom: 20px;    
            opacity: 0;
        }

        .letter p.animate {
            animation: fadeInUp 0.8s ease-out forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .salutation {
            font-style: italic;
            color: #c44569;
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .signature {
            text-align: right;
            margin-top: 40px;
            font-style: italic;
            color: #c44569;
            font-size: 1.2em;
        }

        .signature .from {
            font-size: 0.9em;
            color: #666;
        }

        /* Action buttons container */
        .action-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        /* View Photos Button */
        .view-photos-btn, .view-guestbook-btn {
            padding: 18px 45px;
            font-size: 1.3em;
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Georgia', serif;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.4);
            transition: transform 0.3s, box-shadow 0.3s;
            opacity: 0;
            animation: fadeInUp 0.8s ease-out 2s forwards;
        }

        .view-guestbook-btn {
            animation-delay: 2.2s;
        }

        .download-letter-btn {
            padding: 18px 45px;
            font-size: 1.3em;
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Georgia', serif;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.4);
            transition: transform 0.3s, box-shadow 0.3s;
            opacity: 0;
            animation: fadeInUp 0.8s ease-out 2.4s forwards;
        }

        .view-photos-btn:hover, .view-guestbook-btn:hover {
            transform: scale(1.05) translateY(-2px);
            box-shadow: 0 15px 40px rgba(255, 107, 157, 0.6);
        }

        .download-letter-btn:hover {
            transform: scale(1.05) translateY(-2px);
            box-shadow: 0 15px 40px rgba(255, 107, 157, 0.6);
        }

        /* Decorative elements */
        .corner-decoration {
            position: absolute;
            width: 100px;
            height: 100px;
            opacity: 0.1;
        }

        .corner-decoration.top-left {
            top: 20px;
            left: 20px;
            border-top: 3px solid #ff6b9d;
            border-left: 3px solid #ff6b9d;
        }

        .corner-decoration.bottom-right {
            bottom: 20px;
            right: 20px;
            border-bottom: 3px solid #ff6b9d;
            border-right: 3px solid #ff6b9d;
        }

        /* Photo Gallery Page */
        .gallery-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ffeef8 0%, #ffe4f0 50%, #ffd9e8 100%);
            z-index: 2000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
            overflow-y: auto;
        }

        .gallery-page.active {
            opacity: 1;
            pointer-events: all;
        }

        .gallery-container {
            max-width: 900px;
            width: 90%;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            position: relative;
            margin: 40px 0;
        }

        .gallery-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .gallery-header h2 {
            font-size: 2.5em;
            color: #ff6b9d;
            font-family: 'Brush Script MT', cursive;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(255, 107, 157, 0.3);
        }

        .gallery-header p {
            color: #c44569;
            font-style: italic;
            font-size: 1.2em;
        }

        .slideshow {
            position: relative;
            width: 100%;
            height: 500px;
            margin: 30px 0;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #fff5f8 0%, #ffe8f0 100%);
        }

        .slide.active {
            opacity: 1;
        }

        .slide img {
            max-width: 100%;
            max-height: 450px;
            object-fit: contain;
            border-radius: 10px;
        }

        .slide video {
            max-width: 100%;
            max-height: 450px;
            object-fit: contain;
            border-radius: 10px;
        }

        /* Placeholder for images */
        .slide-placeholder {
            width: 400px;
            height: 400px;
            background: linear-gradient(135deg, #ffd9e8, #ffc4d6);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2em;
            text-align: center;
            padding: 20px;
        }

        .slide-counter {
            text-align: center;
            color: #c44569;
            font-size: 1.1em;
            margin: 20px 0;
        }

        .slideshow-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .control-btn {
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            font-size: 1.1em;
            cursor: pointer;
            font-family: 'Georgia', serif;
            box-shadow: 0 5px 15px rgba(255, 107, 157, 0.3);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 107, 157, 0.5);
        }

        .close-gallery, .close-guestbook {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #f0f0f0;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.5em;
            cursor: pointer;
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-gallery:hover, .close-guestbook:hover {
            transform: scale(1.1);
            background: #e0e0e0;
        }

        /* Guestbook Page Styles */
        .guestbook-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ffeef8 0%, #ffe4f0 50%, #ffd9e8 100%);
            z-index: 2001;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
            overflow-y: auto;
            padding: 40px 20px;
        }

        .guestbook-page.active {
            opacity: 1;
            pointer-events: all;
        }

        .guestbook-container {
            max-width: 700px;
            width: 100%;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            position: relative;
            margin: 20px 0;
        }

        .guestbook-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .guestbook-header h2 {
            font-size: 2.5em;
            color: #ff6b9d;
            font-family: 'Brush Script MT', cursive;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(255, 107, 157, 0.3);
        }

        .guestbook-header p {
            color: #c44569;
            font-style: italic;
            font-size: 1.1em;
        }

        .message-form {
            margin-bottom: 40px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #c44569;
            font-size: 1.1em;
            font-weight: bold;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ffd9e8;
            border-radius: 10px;
            font-family: 'Georgia', serif;
            font-size: 1em;
            transition: border-color 0.3s;
            background: #fff5f8;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #ff6b9d;
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .submit-btn {
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 1.2em;
            cursor: pointer;
            font-family: 'Georgia', serif;
            box-shadow: 0 5px 15px rgba(255, 107, 157, 0.3);
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 107, 157, 0.5);
        }

        .messages-section {
            margin-top: 30px;
        }

        .messages-title {
            text-align: center;
            color: #c44569;
            font-size: 1.5em;
            margin-bottom: 25px;
            font-style: italic;
        }

        .message-card {
            background: linear-gradient(135deg, #fff5f8 0%, #ffe8f0 100%);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(255, 107, 157, 0.1);
            border-left: 4px solid #ff6b9d;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .message-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .message-author {
            color: #ff6b9d;
            font-weight: bold;
            font-size: 1.1em;
        }

        .message-date {
            color: #999;
            font-size: 0.9em;
        }

        .message-text {
            color: #333;
            line-height: 1.6;
            font-size: 1.05em;
            white-space: pre-wrap;
        }

        .no-messages {
            text-align: center;
            color: #999;
            font-style: italic;
            padding: 40px 20px;
            background: #f9f9f9;
            border-radius: 10px;
        }

        .loading-messages {
            text-align: center;
            color: #ff6b9d;
            font-style: italic;
            padding: 40px 20px;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 40px 30px;
            }

            .header h1 {
                font-size: 2.2em;
            }

            .letter {
                font-size: 1em;
            }

            .slideshow {
                height: 400px;
            }

            .slide img {
                max-height: 350px;
            }

            .gallery-container, .guestbook-container {
                padding: 30px 20px;
            }

            .gallery-header h2, .guestbook-header h2 {
                font-size: 2em;
            }

            .action-buttons {
                flex-direction: column;
            }

            .view-photos-btn, .view-guestbook-btn, .download-letter-btn {
                width: 100%;
            }
        }

        /* Envelope Cover */
        .envelope-cover {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            cursor: pointer;
            transition: opacity 1s ease;
        }

        .envelope-cover.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .big-heart {
            font-size: 120px;
            animation: heartbeat 1.5s infinite;
            color: white;
        }

        .open-message {
            color: white;
            font-size: 1.5em;
            margin-top: 30px;
            font-family: 'Georgia', serif;
            text-align: center;
            padding: 0 20px;
        }

        .envelope-cover .splash-image {
            width: 340px;
            height: 340px;
            object-fit: cover;
            border-radius: 12px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.25);
            margin-top: 24px;
        }

        @media (max-width: 768px) {
            .envelope-cover .splash-image {
                width: 240px;
                height: 240px;
            }
        }

        @keyframes heartbeat {
            0%, 100% {
                transform: scale(1);
            }
            25% {
                transform: scale(1.1);
            }
            50% {
                transform: scale(1);
            }
        }

        /* Valentine Question Screen */
        .valentine-question {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ffeef8 0%, #ffe4f0 50%, #ffd9e8 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1001;
            transition: opacity 1s ease;
        }

        .valentine-question.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .question-title {
            font-size: 2.5em;
            color: #c44569;
            font-family: 'Georgia', serif;
            margin-bottom: 50px;
            text-align: center;
            padding: 0 20px;
        }

        .cat-image {
            width: 200px;
            height: 200px;
            margin-bottom: 30px;
            border-radius: 50%;
            object-fit: cover;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.3);
            animation: float-gentle 3s ease-in-out infinite;
        }

        @keyframes float-gentle {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .button-container {
            display: flex;
            gap: 30px;
            position: relative;
        }

        .yes-button, .no-button {
            padding: 20px 50px;
            font-size: 1.5em;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Georgia', serif;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .yes-button {
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            color: white;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.4);
            position: relative;
            z-index: 1005;
        }

        .yes-button:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(255, 107, 157, 0.6);
        }

        .no-button {
            background: #f0f0f0;
            color: #666;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: fixed;
            z-index: 1004;
            transition: all 0.3s ease;
        }

        @media (max-width: 768px) {
            .question-title {
                font-size: 1.8em;
            }

            .yes-button, .no-button {
                padding: 15px 35px;
                font-size: 1.2em;
            }

            .button-container {
                gap: 20px;
            }
        }

        /* Music toggle button */
        .music-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 1.5em;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.4);
            z-index: 999;
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .music-toggle:hover {
            transform: scale(1.1);
        }

        @media (max-width: 768px) {
            .music-toggle {
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                font-size: 1.2em;
            }
        }

        /* Countdown Timer Styles */
        .countdown-section {
            text-align: center;
            margin: 50px 0 30px;
            padding: 30px;
            background: linear-gradient(135deg, #fff5f8 0%, #ffe8f0 100%);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.2);
            opacity: 0;
            animation: fadeInUp 0.8s ease-out 2.5s forwards;
        }

        .countdown-title {
            font-size: 2em;
            color: #ff6b9d;
            font-family: 'Brush Script MT', cursive;
            margin-bottom: 10px;
            text-shadow: 0 0 15px rgba(255, 107, 157, 0.3);
        }

        .countdown-subtitle {
            color: #c44569;
            font-style: italic;
            margin-bottom: 25px;
            font-size: 1.1em;
        }

        .countdown-timer {
            display: flex;
            justify-content: center;
            gap: 25px;
            flex-wrap: wrap;
        }

        .countdown-item {
            background: white;
            padding: 20px 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(255, 107, 157, 0.2);
            min-width: 100px;
            transition: transform 0.3s;
        }

        .countdown-item:hover {
            transform: translateY(-5px);
        }

        .countdown-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #ff6b9d;
            display: block;
            font-family: 'Georgia', serif;
        }

        .countdown-label {
            font-size: 0.9em;
            color: #c44569;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .countdown-title {
                font-size: 1.6em;
            }

            .countdown-timer {
                gap: 15px;
            }

            .countdown-item {
                padding: 15px 20px;
                min-width: 80px;
            }

            .countdown-number {
                font-size: 2em;
            }

            .countdown-label {
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body>

    <!-- Valentine Question -->
    <div class="valentine-question" id="valentine-question">
        <img src="cat.jpeg" alt="Cute cat with hearts" class="cat-image">
        <h1 class="question-title">Olivia, will you be my Valentine? üíï</h1>
        <div class="button-container">
            <button class="yes-button" onclick="sayYes()">Yes! ü§ç</button>
            <button class="no-button" id="noButton" tabindex="-1">No</button>
        </div>
    </div>

    <!-- Background Music -->
    <audio id="background-music" loop>
        <source src="musicbg.mp3" type="audio/mpeg">
    </audio>

    <!-- Music Toggle Button -->
    <button class="music-toggle" id="musicToggle" onclick="toggleMusic()" title="Toggle music">üéµ</button>

    <!-- Envelope Cover -->
    <div class="envelope-cover" id="envelope" onclick="openLetter()">
        <div class="big-heart">ü§ç</div>
        <div class="open-message">Click to open your Valentine's letter from Ivan</div>
        <img src="green-fn-splash.gif" alt="greenfn" class="splash-image">
    </div>

    <!-- Photo Gallery Page -->
    <div class="gallery-page" id="gallery-page">
        <div class="gallery-container">
            <button class="close-gallery" onclick="closeGallery()">‚úï</button>
            
            <div class="gallery-header">
                <h2>Our Memories Together</h2>
                <p>Every moment with you is special ü§ç</p>
            </div>

            <div class="slideshow" id="slideshow">
                <!-- Photo 1 -->
                <div class="slide active">
                    <img src="img/image1.jpeg" alt="Memory 1" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="slide-placeholder" style="display:none;">Photo 1<br>Replace with: photo1.jpg</div>
                </div>
                
                <!-- Photo 2 -->
                <div class="slide">
                    <img src="img/image2.jpeg" alt="Memory 2" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="slide-placeholder" style="display:none;">Photo 2<br>Replace with: photo2.jpg</div>
                </div>
                
                <!-- Photo 3 -->
                <div class="slide">
                    <img src="img/image3.jpeg" alt="Memory 3" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="slide-placeholder" style="display:none;">Photo 3<br>Replace with: photo3.jpg</div>
                </div>
                
                <!-- Photo 4 -->
                <div class="slide">
                    <img src="img/image4.jpeg" alt="Memory 4" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="slide-placeholder" style="display:none;">Photo 4<br>Replace with: photo4.jpg</div>
                </div>
                
                <!-- Photo 5 -->
                <div class="slide">
                    <img src="img/image5.jpeg" alt="Memory 5" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="slide-placeholder" style="display:none;">Photo 5<br>Replace with: photo5.jpg</div>
                </div>
                
                <!-- Photo 6 -->
                <div class="slide">
                    <img src="img/image6.jpeg" alt="Memory 6" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="slide-placeholder" style="display:none;">Photo 6<br>Replace with: photo6.jpg</div>
                </div>
                
                <!-- Photo 7 -->
                <div class="slide">
                    <img src="img/image7.jpeg" alt="Memory 7" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="slide-placeholder" style="display:none;">Photo 7<br>Replace with: photo7.jpg</div>
                </div>
                
                <!-- Photo 8 -->
                <div class="slide">
                    <img src="img/image8.jpeg" alt="Memory 8" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="slide-placeholder" style="display:none;">Photo 8<br>Replace with: photo8.jpg</div>
                </div>
                
                <!-- Photo 9 -->
                <div class="slide">
                    <img src="img/image9.jpeg" alt="Memory 9" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="slide-placeholder" style="display:none;">Photo 9<br>Replace with: photo9.jpg</div>
                </div>
                
                <!-- Photo 10 -->
                <div class="slide">
                    <img src="img/image10.jpeg" alt="Memory 10" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="slide-placeholder" style="display:none;">Photo 10<br>Replace with: photo10.jpg</div>
                </div>
                
                <!-- Photo 11 -->
                <div class="slide">
                    <img src="img/image11.jpeg" alt="Memory 11" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="slide-placeholder" style="display:none;">Photo 11<br>Replace with: photo11.jpg</div>
                </div>
                
                <!-- Photo 12 -->
                <div class="slide">
                    <img src="img/image12.jpeg" alt="Memory 12" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="slide-placeholder" style="display:none;">Photo 12<br>Replace with: photo12.jpg</div>
                </div>

                <!-- Video 13 -->
                <div class="slide">
                    <iframe width="100%" height="450" src="https://www.youtube.com/embed/Vqk_ev22o9A" title="Our Special Video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen style="border-radius: 10px;"></iframe>
                </div>
            </div>

            <div class="slide-counter">
                <span id="current-slide">1</span> / 13
            </div>

            <div class="slideshow-controls">
                <button class="control-btn" onclick="previousSlide()">‚Üê Previous</button>
                <button class="control-btn" onclick="nextSlide()">Next ‚Üí</button>
            </div>
        </div>
    </div>

    <!-- Guestbook Page -->
    <div class="guestbook-page" id="guestbook-page">
        <div class="guestbook-container">
            <button class="close-guestbook" onclick="closeGuestbook()">‚úï</button>
            
            <div class="guestbook-header">
                <h2>Our Guestbook</h2>
                <p>Leave messages for each other üíï</p>
            </div>

            <div class="message-form">
                <div class="form-group">
                    <label for="author-name">Your Name</label>
                    <input type="text" id="author-name" placeholder="Ivan or Olivia" maxlength="50">
                </div>
                
                <div class="form-group">
                    <label for="message-text">Your Message</label>
                    <textarea id="message-text" placeholder="Write something sweet... ü§ç" maxlength="500"></textarea>
                </div>

                <button class="submit-btn" onclick="submitMessage()">Leave Message üíå</button>
            </div>

            <div class="messages-section">
                <div class="messages-title">Our Messages üíï</div>
                <div id="messages-container">
                    <div class="loading-messages">Loading messages... ü§ç</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container">
        <div class="corner-decoration top-left"></div>
        <div class="corner-decoration bottom-right"></div>
        
        <div class="header">
            <h1>Happy Valentine's Day</h1>
            <div class="to">For Olivia ü§ç</div>
        </div>

        <div class="divider"></div>

        <div class="letter">
            <p class="salutation">My love,</p>
            
            <p>Happy Valentine's Day ü§ç  I've been thinking a lot about how to put everything I feel into words, and even now it feels like no letter could fully capture what you mean to me.</p>

            <p>From the moment you came into my life, things started to feel different in the best way. You brought a sense of peace and warmth that I didn't even realize I was missing. Being with you feels natural, effortless, and safe, like I can fully be myself and autistic without fear or pretending. That's something incredibly rare, and I never take it for granted.</p>

            <p>I love the little things about you just as much as the big ones. The way you laugh, the way you care so deeply, the way you show up for the people you love. I love how strong you are, how thoughtful you are, and how you somehow make every day feel lighter just by being part of it. Even when life gets overwhelming, knowing I have you makes everything feel manageable.</p>

            <p>You've taught me so much without even trying - about patience, about understanding, and about what it really means to care for someone. You make me want to be better, not out of pressure, but because loving you makes me want to grow. I want to be someone you can always rely on, someone who supports your dreams, stands by you through the hard days, and celebrates every win with you.</p>

            <p>This being our first Valentine's together makes it even more special to me. It's not just about today, it's about all the memories we're creating and all the ones we haven't even lived yet. I think about the future with you and it feels exciting, comforting, and full of possibility. Wherever life takes us, I want to walk through it with you, side by side. (Summer 2026 hehe)</p>

            <p>Thank you for choosing me, for believing in me, and for loving me the way you do. Thank you for your patience, your kindness, and your heart. I don't say this lightly, you mean more to me than words can explain.</p>

            <p>I promise to keep showing up for you, to keep listening, to keep learning, and to keep loving you with everything I have. Today, tomorrow, and every day after.</p>

            <p>Sometimes I wonder how I got so lucky to have you in my life. I truly believe God brought us together - that there's something bigger than us that saw we were meant to find each other. In you, I see His love reflected back at me. You're patient, kind, forgiving, and you love unconditionally, just like He teaches us to do. Being with you has made my faith stronger because loving you has taught me what it means to truly care for another person's soul.</p>

            <p>There are nights when I lie awake just thinking about you and smiling at how much my life has changed since you came into it. I think about the way you look at me when I'm rambling about something I'm passionate about, how you listen so intently like every word matters. I think about the little ways you show you care - the random texts, the way you remember the things I've said, how you check in on me. These tiny moments mean everything to me because they prove that you see me, really see me.</p>

            <p>I love you in ways I didn't even know were possible. I love you when you're strong and when you're vulnerable. I love you when you're laughing and when you're having a tough day. I love your quirks, your sense of humor, your big heart that cares so deeply about the people around you. I love that you challenge me to be better while accepting me exactly as I am. I love that with you, I don't have to perform or pretend - I can just exist, and that's enough.</p>

            <p>As I'm writing this, I keep thinking about all the moments still ahead of us. All the late-night conversations we haven't had yet, all the adventures waiting for us, all the inside jokes we'll create. I can't wait for Summer 2026 because I get to spend it with you, but honestly, I can't wait for tomorrow either. Every single day with you is a gift, and I never want to take that for granted.</p>

            <p>I love you more than I can put into words, always and forever.</p>

            <div class="signature">
                <div class="from">Your diva,</div>
                <div>Ivan</div>
            </div>
        </div>

        <!-- Countdown Timer -->
        <div class="countdown-section">
            <div class="countdown-title">Countdown to Our Summer 2026 ‚òÄÔ∏è</div>
            <div class="countdown-subtitle">The most fun summer ever starts in...</div>
            <div class="countdown-timer">
                <div class="countdown-item">
                    <span class="countdown-number" id="days">--</span>
                    <span class="countdown-label">Days</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="hours">--</span>
                    <span class="countdown-label">Hours</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="minutes">--</span>
                    <span class="countdown-label">Minutes</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="seconds">--</span>
                    <span class="countdown-label">Seconds</span>
                </div>
            </div>
        </div>

        <div class="action-buttons">
            <button class="view-photos-btn" onclick="openGallery()">View Our Memories üì∏</button>
            <button class="view-guestbook-btn" onclick="openGuestbook()">Our Guestbook üíå</button>
            <button class="download-letter-btn" onclick="downloadLetter()">Download Letter üíï</button>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
        import { getFirestore, collection, addDoc, onSnapshot, query, orderBy, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBVhjk6B3CVWSiZdeAAC4Pyabr1HAXsmpo",
            authDomain: "valentine-bbdc0.firebaseapp.com",
            projectId: "valentine-bbdc0",
            storageBucket: "valentine-bbdc0.firebasestorage.app",
            messagingSenderId: "992183184136",
            appId: "1:992183184136:web:965b1659378a710bf15abd"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Make Firebase functions available globally
        window.db = db;
        window.firestoreFunctions = { collection, addDoc, onSnapshot, query, orderBy, serverTimestamp };
        
        // Signal that Firebase is ready
        window.firebaseReady = true;
        console.log('üî• Firebase initialized successfully!');
        
        // Load messages when Firebase is ready
        if (window.loadMessagesFromFirebase) {
            window.loadMessagesFromFirebase();
        }
    </script>

    <script>
        let musicPlaying = false;
        let currentSlide = 0;
        const totalSlides = 13;

        // Escape HTML to prevent XSS
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Display all messages from Firebase
        function displayMessages(messages) {
            const container = document.getElementById('messages-container');
            
            if (!messages || messages.length === 0) {
                container.innerHTML = '<div class="no-messages">No messages yet... Be the first to leave one! ü§ç</div>';
                return;
            }

            container.innerHTML = messages.map(msg => `
                <div class="message-card">
                    <div class="message-header">
                        <span class="message-author">${escapeHtml(msg.author)} üíï</span>
                        <span class="message-date">${msg.date}</span>
                    </div>
                    <div class="message-text">${escapeHtml(msg.text)}</div>
                </div>
            `).join('');
        }

        // Load messages from Firebase with real-time updates
        window.loadMessagesFromFirebase = function() {
            if (!window.firebaseReady || !window.db) {
                console.log('Waiting for Firebase...');
                setTimeout(window.loadMessagesFromFirebase, 100);
                return;
            }

            const { collection, query, orderBy, onSnapshot } = window.firestoreFunctions;
            
            // Create a query to get messages ordered by timestamp
            const messagesRef = collection(window.db, 'messages');
            const q = query(messagesRef, orderBy('timestamp', 'desc'));
            
            // Listen for real-time updates
            onSnapshot(q, (snapshot) => {
                const messages = [];
                snapshot.forEach((doc) => {
                    const data = doc.data();
                    messages.push({
                        id: doc.id,
                        author: data.author,
                        text: data.text,
                        date: data.timestamp ? new Date(data.timestamp.toDate()).toLocaleDateString('en-US', { 
                            month: 'short', 
                            day: 'numeric', 
                            year: 'numeric',
                            hour: 'numeric',
                            minute: '2-digit'
                        }) : 'Just now',
                        timestamp: data.timestamp
                    });
                });
                
                displayMessages(messages);
                console.log(`üì¨ Loaded ${messages.length} messages`);
            }, (error) => {
                console.error('Error loading messages:', error);
                document.getElementById('messages-container').innerHTML = 
                    '<div class="no-messages">Error loading messages. Please refresh the page.</div>';
            });
        };

        // Submit a new message to Firebase
        async function submitMessage() {
            const authorInput = document.getElementById('author-name');
            const messageInput = document.getElementById('message-text');
            
            const author = authorInput.value.trim();
            const text = messageInput.value.trim();
            
            if (!author || !text) {
                alert('Please fill in both your name and message! üíï');
                return;
            }

            if (!window.firebaseReady || !window.db) {
                alert('Firebase is still loading... Please try again in a moment! ü§ç');
                return;
            }

            try {
                const { collection, addDoc, serverTimestamp } = window.firestoreFunctions;
                
                // Add message to Firebase
                await addDoc(collection(window.db, 'messages'), {
                    author: author,
                    text: text,
                    timestamp: serverTimestamp()
                });
                
                // Clear inputs
                authorInput.value = '';
                messageInput.value = '';
                
                // Show success feedback
                createSparkle(window.innerWidth / 2, window.innerHeight / 2);
                
                console.log('‚úÖ Message sent successfully!');
            } catch (error) {
                console.error('Error adding message:', error);
                alert('Error sending message. Please try again! üíï');
            }
        }

        // Make submitMessage available globally
        window.submitMessage = submitMessage;

        // Sparkle cursor trail
        document.addEventListener('mousemove', (e) => {
            if (Math.random() > 0.85) {
                createSparkle(e.pageX, e.pageY);
            }
        });

        function createSparkle(x, y) {
            const sparkle = document.createElement('div');
            sparkle.classList.add('sparkle');
            sparkle.innerHTML = '‚ú®';
            sparkle.style.left = x + 'px';
            sparkle.style.top = y + 'px';
            sparkle.style.fontSize = (Math.random() * 10 + 10) + 'px';
            document.body.appendChild(sparkle);

            setTimeout(() => sparkle.remove(), 1000);
        }

        // Heart confetti explosion
        function createConfetti() {
            const confettiCount = 100;
            
            for (let i = 0; i < confettiCount; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.classList.add('confetti', 'heart');
                    
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.top = '-50px';
                    
                    confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                    confetti.style.animationDelay = (Math.random() * 0.5) + 's';
                    
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 5000);
                }, i * 30);
            }
        }

        // Animate letter paragraphs with proper timing
        function animateLetterParagraphs() {
            const letterParagraphs = document.querySelectorAll('.letter p');
            letterParagraphs.forEach((p, index) => {
                setTimeout(() => {
                    p.classList.add('animate');
                }, index * 200);
            });
        }

        // Toggle music function
        function toggleMusic() {
            const audio = document.getElementById('background-music');
            const button = document.getElementById('musicToggle');
            
            if (musicPlaying) {
                audio.pause();
                button.textContent = 'üîá';
                musicPlaying = false;
            } else {
                audio.play().catch(err => {
                    console.log('Audio play failed:', err);
                });
                button.textContent = 'üéµ';
                musicPlaying = true;
            }
        }

        // Auto-start music on first user interaction
        let musicStarted = false;
        document.addEventListener('click', () => {
            if (!musicStarted) {
                const audio = document.getElementById('background-music');
                audio.play().catch(err => {
                    console.log('Audio play failed:', err);
                });
                document.getElementById('musicToggle').textContent = 'üéµ';
                musicPlaying = true;
                musicStarted = true;
            }
        }, { once: true });

        // Create floating hearts
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = 'ü§ç';
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDuration = (Math.random() * 10 + 10) + 's';
            heart.style.animationDelay = Math.random() * 5 + 's';
            document.body.appendChild(heart);

            setTimeout(() => {
                heart.remove();
            }, 20000);
        }

        // Create hearts periodically
        setInterval(createHeart, 800);

        // Create initial hearts
        for (let i = 0; i < 10; i++) {
            setTimeout(createHeart, i * 300);
        }

        // Open letter function
        function openLetter() {
            document.getElementById('envelope').classList.add('hidden');
            setTimeout(animateLetterParagraphs, 500);
        }

        // Gallery functions
        function openGallery() {
            document.getElementById('gallery-page').classList.add('active');
        }

        function closeGallery() {
            document.getElementById('gallery-page').classList.remove('active');
        }

        // Guestbook functions
        function openGuestbook() {
            document.getElementById('guestbook-page').classList.add('active');
            // Load messages when opening guestbook
            if (window.firebaseReady) {
                window.loadMessagesFromFirebase();
            }
        }

        function closeGuestbook() {
            document.getElementById('guestbook-page').classList.remove('active');
        }

        // Download letter as text file
        function downloadLetter() {
            const letterText = `Happy Valentine's Day ü§ç
For Olivia

My love,

Happy Valentine's Day ü§ç  I've been thinking a lot about how to put everything I feel into words, and even now it feels like no letter could fully capture what you mean to me.

From the moment you came into my life, things started to feel different in the best way. You brought a sense of peace and warmth that I didn't even realize I was missing. Being with you feels natural, effortless, and safe, like I can fully be myself and autistic without fear or pretending. That's something incredibly rare, and I never take it for granted.

I love the little things about you just as much as the big ones. The way you laugh, the way you care so deeply, the way you show up for the people you love. I love how strong you are, how thoughtful you are, and how you somehow make every day feel lighter just by being part of it. Even when life gets overwhelming, knowing I have you makes everything feel manageable.

You've taught me so much without even trying - about patience, about understanding, and about what it really means to care for someone. You make me want to be better, not out of pressure, but because loving you makes me want to grow. I want to be someone you can always rely on, someone who supports your dreams, stands by you through the hard days, and celebrates every win with you.

This being our first Valentine's together makes it even more special to me. It's not just about today, it's about all the memories we're creating and all the ones we haven't even lived yet. I think about the future with you and it feels exciting, comforting, and full of possibility. Wherever life takes us, I want to walk through it with you, side by side. (Summer 2026 hehe)

Thank you for choosing me, for believing in me, and for loving me the way you do. Thank you for your patience, your kindness, and your heart. I don't say this lightly, you mean more to me than words can explain.

I promise to keep showing up for you, to keep listening, to keep learning, and to keep loving you with everything I have. Today, tomorrow, and every day after.

I love you more than I can put into words, always and forever.

Your diva,
Ivan

Valentine's Day 2025`;

            // Create blob and download
            const blob = new Blob([letterText], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Valentines_Letter_From_Ivan.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);

            // Show sparkle feedback
            createSparkle(window.innerWidth / 2, window.innerHeight / 2);
        }

        function showSlide(index) {
            const slides = document.querySelectorAll('.slide');
            slides.forEach(slide => {
                slide.classList.remove('active');
                // Pause any videos when leaving slide
                const video = slide.querySelector('video');
                if (video) {
                    video.pause();
                    video.currentTime = 0;
                }
            });
            
            if (index >= totalSlides) {
                currentSlide = 0;
            } else if (index < 0) {
                currentSlide = totalSlides - 1;
            } else {
                currentSlide = index;
            }
            
            slides[currentSlide].classList.add('active');
            
            // Auto-play video when slide becomes active
            const activeVideo = slides[currentSlide].querySelector('video');
            if (activeVideo) {
                activeVideo.play().catch(err => {
                    console.log('Video autoplay failed:', err);
                });
            }
            
            document.getElementById('current-slide').textContent = currentSlide + 1;
        }

        function nextSlide() {
            showSlide(currentSlide + 1);
        }

        function previousSlide() {
            showSlide(currentSlide - 1);
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (document.getElementById('gallery-page').classList.contains('active')) {
                if (e.key === 'ArrowLeft') previousSlide();
                if (e.key === 'ArrowRight') nextSlide();
                if (e.key === 'Escape') closeGallery();
            }
            if (document.getElementById('guestbook-page').classList.contains('active')) {
                if (e.key === 'Escape') closeGuestbook();
                // Ctrl+Enter to submit
                if (e.key === 'Enter' && e.ctrlKey) {
                    submitMessage();
                }
            }
        });

        // Move the No button to a random position on the viewport
        function moveButton() {
            const button = document.getElementById('noButton');
            const padding = 20;
            const maxX = Math.max(0, window.innerWidth - button.offsetWidth - padding);
            const maxY = Math.max(0, window.innerHeight - button.offsetHeight - padding);
            const randomX = Math.floor(Math.random() * maxX) + padding;
            const randomY = Math.floor(Math.random() * maxY) + padding;

            button.style.left = randomX + 'px';
            button.style.top = randomY + 'px';
        }

        // Place the No button initially near the Yes button (but fixed)
        function positionNoButtonInitial() {
            const button = document.getElementById('noButton');
            const yes = document.querySelector('.yes-button');
            if (!button || !yes) return;
            
            const rect = yes.getBoundingClientRect();
            const gap = 30;
            
            let left = rect.right + gap;
            let top = rect.top;
            
            if (left + button.offsetWidth > window.innerWidth - 20) {
                left = rect.left;
                top = rect.bottom + 20;
            }
            
            left = Math.min(Math.max(left, 10), window.innerWidth - button.offsetWidth - 10);
            top = Math.min(Math.max(top, 10), window.innerHeight - button.offsetHeight - 10);
            
            button.style.left = left + 'px';
            button.style.top = top + 'px';
        }

        // When Yes is clicked - CONFETTI TIME!
        function sayYes() {
            createConfetti();
            setTimeout(() => {
                document.getElementById('valentine-question').classList.add('hidden');
            }, 500);
        }

        // Initialize when page loads
        window.addEventListener('load', () => {
            const noBtn = document.getElementById('noButton');
            if (!noBtn) return;

            positionNoButtonInitial();

            noBtn.addEventListener('mouseenter', moveButton);
            noBtn.addEventListener('mouseover', moveButton);
            noBtn.addEventListener('click', (e) => {
                e.preventDefault();
                moveButton();
            });
            noBtn.addEventListener('touchstart', (e) => {
                e.preventDefault();
                moveButton();
            }, { passive: false });
            noBtn.addEventListener('focus', moveButton);

            window.addEventListener('resize', positionNoButtonInitial);
            
            // Initialize Firebase messages
            if (window.firebaseReady) {
                window.loadMessagesFromFirebase();
            }

            // Start countdown timer
            startCountdown();
        });

        // Countdown Timer to May 7th, 2026
        function startCountdown() {
            const targetDate = new Date('May 7, 2026 00:00:00').getTime();

            function updateCountdown() {
                const now = new Date().getTime();
                const distance = targetDate - now;

                if (distance < 0) {
                    // Countdown finished
                    document.getElementById('days').textContent = '0';
                    document.getElementById('hours').textContent = '0';
                    document.getElementById('minutes').textContent = '0';
                    document.getElementById('seconds').textContent = '0';
                    document.querySelector('.countdown-subtitle').textContent = 'Summer is here! ‚òÄÔ∏èü§ç';
                    return;
                }

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                document.getElementById('days').textContent = days;
                document.getElementById('hours').textContent = hours;
                document.getElementById('minutes').textContent = minutes;
                document.getElementById('seconds').textContent = seconds;
            }

            // Update immediately
            updateCountdown();

            // Update every second
            setInterval(updateCountdown, 1000);
        }
    </script>
</body>
</html>
